v5.9.2-hotfix-eperm-error
- **核心修复: 解决因并发文件写入导致的 EPERM 错误。**
  - **问题:** 在使用“0层模式”或通过特殊角色卡（如“新界面美化完全版.html”）触发的快速、连续的填表操作中，多个异步函数尝试同时写入聊天记录文件，导致 `EPERM: operation not permitted, rename` 错误，因为文件已被前一个操作锁定。
  - **根本原因:** `scripts/runtime/separateTableUpdate.js`中的 `triggerTableFillFromLastMessage` 函数在执行一系列复杂的、涉及内存和文件I/O的操作时，没有像 `manualSummaryChat` 函数那样实现对 `USER.saveChat` 的锁定。
  - **解决方案:** 将 `manualSummaryChat` 中经过验证的“保存锁”机制应用到 `triggerTableFillFromLastMessage` 函数中。
  - **实现方式:**
    - **1. 修改 `scripts/runtime/separateTableUpdate.js`:**
        - 在 `triggerTableFillFromLastMessage` 函数的开头，用一个空函数临时替换 `USER.saveChat`，以阻止所有中途的保存尝试。
        - 将核心的文件操作逻辑包裹在 `try...finally` 块中。
        - 在 `finally` 块中，无论操作成功与否，都恢复原始的 `USER.saveChat` 函数。
        - 仅在所有操作成功完成后，才调用一次 `USER.saveChat()`，将所有更改合并为单次、安全的写入操作。
  - **结果:**
    - **修复了EPERM错误:** 通过同步文件I/O，彻底解决了并发写入冲突问题，确保了聊天记录的原子性更新。
    - **提升了稳定性:** “0层模式”和外部触发的填表功能现在更加稳定可靠。
  - **受影响文件:**
    - `scripts/runtime/separateTableUpdate.js` (应用保存锁)
    - `项目文档.txt` (新增此条目)

v5.9.1-feature-log-grouping
- **核心功能: 为日志服务增加折叠分组功能，提升日志可读性。**
  - **问题:** 即使有统一的日志格式，当一个行为触发多条日志时，控制台仍然会显得杂乱。
  - **解决方案:** 在 `services/logger.js` 中增加了 `group` 和 `groupEnd` 方法，利用 `console.groupCollapsed` 和 `console.groupEnd` 来创建可折叠的日志组。
  - **实现方式:**
    - **1. 增强 `services/logger.js`:**
        - 新增 `group(label)` 方法，用于开始一个默认折叠的日志组。
        - 新增 `groupEnd()` 方法，用于结束当前的日志组。
    - **2. 应用日志分组 (`index.js`, `scripts/runtime/separateTableUpdate.js`):**
        - 在 `onMessageReceived` 和 `TableTwoStepSummary` 等会产生多条日志的函数中，使用 `Logger.group()` 和 `Logger.groupEnd()` 将相关日志包裹起来。
  - **结果:**
    - **日志更清晰:** 同一行为下的多条日志现在会被折叠成一个可展开的条目，大大提升了控制台日志的可读性。
  - **受影响文件:**
    - `services/logger.js` (新增分组方法)
    - `index.js` (应用分组)
    - `scripts/runtime/separateTableUpdate.js` (应用分组)
    - `项目文档.txt` (新增此条目)
